<!-- HTML header for doxygen 1.8.7-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<!--
 * Copyright (c) 2009-2014 NVIDIA CORPORATION.  All rights reserved.
 *
 * NVIDIA Corporation and its licensors retain all intellectual property
 * and proprietary rights in and to this software, related documentation
 * and any modifications thereto.  Any use, reproduction, disclosure or
 * distribution of this software and related documentation without an express
 * license agreement from NVIDIA Corporation is strictly prohibited.
-->
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>Jetson Linux Multimedia API Reference: 07_video_convert</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link rel="shortcut icon" href="Nvidia.ico" type="image/x-icon" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="reverb-search.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="nv.css" rel="stylesheet" type="text/css" />
<style>
 body {
 background-position: 350px 150px;
 background-image: url(watermark.png);
 background-repeat: no-repeat;
 background-attachment: fixed;
 }
</style>
<script type="text/javascript" charset="utf-8" src="https://assets.adobedtm.com/b92787824f2e0e9b68dc2e993f9bd995339fe417/satelliteLib-7ba51e58dc61bcb0e9311aadd02a0108ab24cc6c.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table width="99%" border="0" cellspacing="1" cellpadding="1">
  <tbody>
    <tr valign="middle">
      <td rowspan="2" height="44" width="19%">
        <img src="./NVLogo_2D_H.jpg" width="204" height="44"></td>
      <td width="81%" height="44">
        <h2 style="text-align:right">Jetson Linux Multimedia API Reference</h2>
        <h4 style="text-align:right">
        32.4.3 Release</h4>
    </td>
  </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="grp_terms.html"><span>Important&#160;Terms</span></a></li>
      <li><a href="modules.html"><span>API&#160;Modules</span></a></li>
      <li><a href="l4t_mm_test_group.html"><span>Sample&#160;Applications</span></a></li>
      <li><a href="mmapi_tools.html"><span>Tools</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="usergroup0.html"><span>More</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('nvvid_scal_col_group.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">07_video_convert </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ul>
<li><a href="#overview">Overview</a></li>
<li><a href="#build_and_run">Building and Running</a></li>
<li><a href="#key">Key Structure and Classes</a></li>
</ul>
<hr/>
<p> <a class="anchor" id="overview"></a> </p><h2>Overview</h2>
<p>The video scaling and color format conversion sample <code>video_convert</code> demonstrates how to use the <a class="el" href="classNvBuffer.html" title="Class representing a buffer. ">NvBuffer</a> APIs defined in <code><a class="el" href="nvbuf__utils_8h.html" title="NVIDIA Multimedia Utilities: Buffering and Transform/Composition/Blending ">nvbuf_utils.h</a></code> for image color formatting and buffer layout conversion.</p>
<p>NVIDIA<sup>&reg;</sup> Jetson<sup>&reg;</sup> provides pitch linear and block linear memory format support. The block-linear memory format complies with Jetson hardware.</p>
<p>This sample creates one or more threads to do conversion, each thread reads frame data from local file and write converted frame data to local file. For a better parallel scheduling, each thread creates its own NvBufferSession when '-s' or '&ndash;create-session' option are speficied.</p>
<p>This sample can also been used for video convert performance benchmark. When '&ndash;perf' option is speficied, each thread do video conversion in a loop (3000 times) after reading frame data from local file. To reduce benchmark deviation from file IO, input file should be image data instead of video data.</p>
<p>Since this sample needs to read frame data from local file and write converted frame data to local file, pitch linear memory is used in this sample(CPU cannot access block linear buffer).</p>
<p>This sample does not require a camera.</p>
<p><a class="anchor" id="build_and_run"></a> </p><hr/>
 <h2>Building and Running</h2>
<h4>Prerequisites</h4>
<ul>
<li>You have followed Steps 1-3 in <a class="el" href="mmapi_build.html">Building and Running</a>.</li>
<li>If you are building from your host Linux PC (x86), you have followed Step 4 in <a class="el" href="mmapi_build.html">Building and Running</a>.</li>
</ul>
<h3>To build:</h3>
<ul>
<li>Enter: <pre class="fragment"> $ cd jetson_multimedia_api/samples/07_video_convert
 $ make
</pre></li>
</ul>
<h3>To run</h3>
<ul>
<li>Enter: <pre class="fragment"> $ ./video_convert &lt;in-file&gt; &lt;in-width&gt; &lt;in-height&gt; &lt;in-format&gt; &lt;out-file-prefix&gt; &lt;out-width&gt; &lt;out-height&gt; &lt;out-format&gt; [OPTIONS]
</pre></li>
</ul>
<h3>Example</h3>
<pre class="fragment">   $ ./video_convert ../../data/Picture/nvidia-logo.yuv 1920 1080 YUV420 test.yuv 1920 1080 YUYV
</pre><dl class="section note"><dt>Note</dt><dd>The <code>video_convert</code> sample consumes a YUV file. If you do not already have a YUV file, you can use the <code>jpeg_decode</code> sample to generate one. For example: <pre class="fragment"> $ cd jetson_multimedia_api/samples/06_jpeg_decode/
 $ ./jpeg_decode num_files 1 ../../data/Picture/nvidia-logo.jpg ../../data/Picture/nvidia-logo.yuv
</pre></dd></dl>
<p><a class="anchor" id="flow"></a> </p><h2>Flow</h2>
<p>The following diagram shows the flow of data through the sample.</p>
<div class="image">
<img src="l4t_mm_video_converter.jpg"  alt=" "/>
</div>
<p><a class="anchor" id="key"></a> </p><hr/>
 <h2>Key Structure and API</h2>
<p><code><a class="el" href="nvbuf__utils_8h.html" title="NVIDIA Multimedia Utilities: Buffering and Transform/Composition/Blending ">nvbuf_utils.h</a></code> defines all the key structures and APIs to do color conversion by <a class="el" href="classNvBuffer.html" title="Class representing a buffer. ">NvBuffer</a> APIs.</p>
<h3>Structure</h3>
<table class="doxtable">
<tr>
<th>Structure</th><th>Description  </th></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga0834b004efe8bca7a98c876042f57918">NvBufferCreateParams</a></td><td>Holds the input parameters for hardware buffer creation. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga70c3f1e37eda1d7195800ffdafadfb31">NvBufferParams</a></td><td>Holds parameters for a hardware buffer. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#gad0b4c32bd1d0edef1f11b4560ea00916">NvBufferTransformParams</a></td><td>Holds parameters for buffer transform functions. </td></tr>
<tr>
<td><a href="structNvBufferRect.html">NvBufferRect</a></td><td>Holds coordinates for a rectangle. </td></tr>
</table>
<h3>API</h3>
<table class="doxtable">
<tr>
<th>Method</th><th>Description  </th></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga5d21823c3ab5f07f55ccea64deb01e96">NvBufferCreateEx()</a></td><td>Allocates a HW buffer. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#gab03cbe902e747420f02bb5b509b05968">NvBufferDestroy()</a></td><td>Destroys a HW buffer. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#gaaf4abfe7cb3ba3c49ea37d33ad246ea5">NvBufferSessionCreate()</a></td><td>Creates a new NvBufferSession for parallel scheduling of buffer transformations and compositions. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#gadfe38cd5888e934c754a638d7ea7243e">NvBufferSessionDestroy()</a></td><td>Destroys an existing NvBufferSession. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#gabd39426181a52065586917dfd470fa5a">NvBufferGetParams()</a></td><td>Gets buffer parameters. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#gab6760a1b12067b32a80e7aa9e2a98d2b">NvBufferMemMap()</a></td><td>Gets the memory-mapped virtual address of the plane. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga5fd173847091ba84802f8f7e00ffda52">NvBufferMemUnMap()</a></td><td>Unmaps the mapped virtual address of the plane. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga4a52fd88a031be9cca774b2c6ff98e4e">NvBufferMemSyncForDevice()</a></td><td>Syncs the HW memory cache sync for the device. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga8c26b181329a181b41498b06a4f66602">NvBufferMemSyncForCpu()</a></td><td>Syncs the HW memory cache for the CPU. </td></tr>
<tr>
<td><a href="group__ee__nvbuffering__group.html#ga6f79642157d9930b43bd6a775a92dca9">NvBufferTransform()</a></td><td>Transforms one DMA buffer to another DMA buffer. </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- doc-content -->

  <div id="nav-path" class="navpath">
    <ul>
      <li class="footer">
        Advance Information | Subject to Change |
        Generated by NVIDIA | Thu Jul 2 2020 14:15:48 |
        PR-08664-R32
      </li>
     </ul>
  </div>
<script type="text/javascript">if (_satellite) _satellite.pageBottom();</script>
</body>
</html>
